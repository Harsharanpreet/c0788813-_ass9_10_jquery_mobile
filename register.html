<!DOCTYPE html> 
<html> 
	<head>
  <meta charset="UTF-8">	
	<title>Assignment 9-10 - Register</title> 
	
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="jquery.mobile.structure-1.0.1.css" />
	<link rel="apple-touch-icon" href="images/launch_icon_57.png" />
	<link rel="apple-touch-icon" sizes="72x72" href="images/launch_icon_72.png" />
	<link rel="apple-touch-icon" sizes="114x114" href="images/launch_icon_114.png" />
	<link rel="stylesheet" href="jquery.mobile-1.0.1.css" />
	<link rel="stylesheet" href="custom.css" />
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/jquery.mobile-1.0.1.min.js"></script>
	<script src="js/project.js"></script>
</head> 

<body> 
<div data-role="page" id="home" data-theme="c">

	<div data-role="content">
	
	<div id="branding">
		<h1> Register</h1>
	</div>
	
	<div class="choice_list"> 
	<h3>New User Register Form</h3>

	<label for="txt-email">email address</label>
	<input type="email" name="txt-email" id="txtemail" value="" required>

	<label for="txt-name">First Name</label>
	<input type="text" name="txt-name" id="fname" value="" required>

	<label for="txt-name">Last Name</label>
	<input type="text" name="txt-name" id="lname" value="" required>

	<label for="txt-password">password</label>
	<input type="password" name="txt-password" id="txtpassword" value="" required>

	<label for="txt-password">Confirm password</label>
	<input type="password" name="txt-password" id="confirmpwd" value="" required>

	<label for="txt-birthdate">Birthdate</label>
	<input type="date" name="txt-password" id="birthdate" value="" required>

	<label for="txt-city">Select City</label>
	<select id="city">
		<option>Toronto</option>
		<option>Vancouver</option>
		<option>Montreal</option>
		<option>Ottawa</option>
		<option>Calgary</option>
	</select>

	
	<div data-role="controlgroup" data-type="horizontal">
		<a href="#" rel="external" data-role="button" data-theme="b" id="submitbtn">Submit</a>
		<a href="login.html" rel="external" data-role="button" data-theme="e">Home</a>
		
		</div>
	
	</div>
 
	</div>

</div><!-- /page -->
</body>
</html>
<script>
$("#submitbtn").click(function(){
	var fname=$("#fname").val();
	var lname=$("#lname").val();
	var usermail=$("#txtemail").val();
	var pwd=$("#txtpassword").val();
	var confirmpwd=$("#confirmpwd").val();
	var birthdate=$("#birthdate").val();
	var city=$("#city").val();

	var emailReg = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    if(!emailReg.test(usermail)) {
		alert("Check Email Address")
		$("#txtemail").focus()
        return;
    }
	if(fname.length==0 || lname.length==0 || pwd.length==0 || confirmpwd.length==0)
	{
		alert("Please fill up the blank fields")
		return;
	}
	var onlyAlpha =/^[A-Za-z]+$/
	if(!onlyAlpha.test(fname)) {
		alert("First Name should have only alphabets")
		$("#fname").focus()
        return;
    }

	if(!onlyAlpha.test(lname)) {
		alert("Last Name should have only alphabets")
		$("#lname").focus()
        return;
    }

	if(confirmpwd!= pwd) {
		alert("Both Passwords Not Matching")
		$("#pwd").focus()
        return;
    }


	fnames = JSON.parse(sessionStorage.getItem("fnames"));
	lnames = JSON.parse(sessionStorage.getItem("lnames"));
	usermails = JSON.parse(sessionStorage.getItem("usermails"));
	pwds = JSON.parse(sessionStorage.getItem("pwds"));
	birthdates = JSON.parse(sessionStorage.getItem("birthdates"));
	citys = JSON.parse(sessionStorage.getItem("citys"));
	
	
	fnames.push(fname);
	lnames.push(lname);
	usermails.push(usermail);
	pwds.push(pwd);
	birthdates.push(birthdate);
	citys.push(city);

	sessionStorage.setItem("fnames", JSON.stringify(fnames));
	sessionStorage.setItem("lnames", JSON.stringify(lnames));
	sessionStorage.setItem("usermails", JSON.stringify(usermails));
	sessionStorage.setItem("pwds", JSON.stringify(pwds));
	sessionStorage.setItem("birthdates", JSON.stringify(birthdates));
	sessionStorage.setItem("citys", JSON.stringify(citys));

	alert("Thanks for registration!!!");
});
</script>